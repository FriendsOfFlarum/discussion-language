{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@fof/discussion-language/./node_modules/twemoji-basename/index.js","webpack://@fof/discussion-language/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@fof/discussion-language/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@fof/discussion-language/./node_modules/@babel/runtime/regenerator/index.js","webpack://@fof/discussion-language/webpack/bootstrap","webpack://@fof/discussion-language/webpack/runtime/compat get default export","webpack://@fof/discussion-language/webpack/runtime/define property getters","webpack://@fof/discussion-language/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/discussion-language/webpack/runtime/make namespace object","webpack://@fof/discussion-language/external root \"flarum.core.compat['admin/app']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['admin/components/SettingDropdown']\"","webpack://@fof/discussion-language/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@fof/discussion-language/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/discussion-language/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/discussion-language/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/components/Select']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@fof/discussion-language/./src/admin/utils/locales.js","webpack://@fof/discussion-language/./src/admin/utils/loadAsset.ts","webpack://@fof/discussion-language/./src/admin/utils/countries.ts","webpack://@fof/discussion-language/./src/admin/components/LanguagesSettingsPage.tsx","webpack://@fof/discussion-language/./src/admin/components/index.js","webpack://@fof/discussion-language/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@fof/discussion-language/./src/admin/utils/index.js","webpack://@fof/discussion-language/./src/common/utils/index.js","webpack://@fof/discussion-language/./src/common/utils/flag.js","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/discussion-language/./src/common/models/Language.ts","webpack://@fof/discussion-language/./src/common/models/index.ts","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/extenders']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['common/models/Forum']\"","webpack://@fof/discussion-language/external root \"flarum.core.compat['tags/common/models/Tag']\"","webpack://@fof/discussion-language/./src/common/extend.ts","webpack://@fof/discussion-language/./src/admin/extend.ts","webpack://@fof/discussion-language/./src/admin/index.js"],"sourcesContent":["/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */\n/* https://github.com/twitter/twemoji/blob/gh-pages/LICENSE */\n\nmodule.exports = function (str) {\n  var r = []\n  var c = 0\n  var p = 0\n  var i = 0\n  var l = str.length\n\n  while (i < l) {\n    c = str.charCodeAt(i++)\n    if (p) {\n      r.push((0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00)).toString(16))\n      p = 0\n    } else if (0xD800 <= c && c <= 0xDBFF) {\n      p = c\n    } else {\n      r.push(c.toString(16))\n    }\n  }\n\n  return r.join('-')\n}\n","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/SettingDropdown'];","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","import loadAsset from './loadAsset';\n\nlet ISO6392;\n\nexport const load = async () => {\n  ISO6392 = await loadAsset('iso-639-2.json');\n\n  return ISO6392;\n};\n\nexport const getNameColumn = (data, native) => (native && data?.['Native name(s)']) || data?.['Language name(s)'];\n\nexport default (native) =>\n  Array.from(Object.values(ISO6392 || {}))\n    ?.sort((a, b) => getNameColumn(a, native)?.toLowerCase() > getNameColumn(b, native)?.toLowerCase())\n    .reduce((o, data) => {\n      o[data['639-1'] || data['639-2']] = getNameColumn(data, native);\n\n      return o;\n    }, {});\n\nexport const getName = (code, native) =>\n  getNameColumn(\n    ISO6392?.find((data) => [data['639-1'] || data['639-2']].includes(code)),\n    native\n  );\n","import app from 'flarum/admin/app';\n\nexport default async function loadAsset<T>(name: string): Promise<T> {\n  const URL = `${app.forum.attribute('baseUrl')}/assets/extensions/fof-discussion-language/${name}`;\n\n  const response = await fetch(URL);\n\n  if (!response.ok) {\n    if (response.status === 404) {\n      throw new Error(`Missing asset (\\`${name}\\`): ${URL}`);\n    }\n  }\n\n  return await response.json();\n}\n","import loadAsset from './loadAsset';\n\nlet countries: undefined | Record<string, Record<string, unknown>>;\n\nexport const load = async () => {\n  countries = await loadAsset('countries.json');\n\n  return countries;\n};\n\nexport default function getCountries(useNativeName: boolean) {\n  if (!countries) return {};\n\n  const key = useNativeName ? 'native' : 'name';\n\n  return Object.entries(countries).reduce(\n    (acc, [code, info]) => {\n      acc[code] = info[key];\n\n      return acc;\n    },\n    {} as Record<string, string>\n  );\n}\n\nexport const getEmoji = (code: string) => countries?.[code]?.emoji;\n","import app from 'flarum/admin/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport Select from 'flarum/common/components/Select';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport icon from 'flarum/common/helpers/icon';\nimport Stream from 'flarum/common/utils/Stream';\nimport Alert from 'flarum/common/components/Alert';\nimport getLocales, * as locales from '../utils/locales';\nimport getCountries, * as countries from '../utils/countries';\nimport Language from '../../common/models/Language';\n\nimport type Mithril from 'mithril';\n\nexport default class LanguagesSettingsPage extends ExtensionPage<never> {\n  recordsUpdating: Record<string, boolean> = {};\n  recordsDeleting: Record<string, boolean> = {};\n\n  newLocaleValue = Stream<string>('');\n  newCountryValue = Stream<string>('');\n\n  loadingData: boolean = true;\n  loadingDataError: boolean = false;\n\n  errorDetails: null | Error = null;\n\n  isAddingNewRecord: boolean = false;\n\n  oncreate(vnode: Mithril.Vnode<never, this>) {\n    super.oncreate(vnode);\n\n    this.loadData();\n  }\n\n  async loadData() {\n    this.loadingData = true;\n    this.loadingDataError = false;\n\n    m.redraw();\n\n    try {\n      await Promise.all([locales.load(), countries.load()]);\n\n      this.loadingData = false;\n      this.loadingDataError = false;\n\n      m.redraw();\n    } catch (e) {\n      console.error(e);\n\n      this.loadingData = false;\n      this.loadingDataError = true;\n      this.errorDetails = e as Error;\n\n      m.redraw();\n    }\n  }\n\n  content(vnode: Mithril.VnodeDOM<never, this>) {\n    return (\n      <div className=\"container\">\n        <div className=\"FofDiscussionLanguagesSettingsPage\">\n          <div className=\"Form-group\">\n            {this.buildSettingComponent({\n              type: 'bool',\n              label: app.translator.trans('fof-discussion-language.admin.settings.native_label'),\n              setting: 'fof-discussion-language.native',\n            })}\n          </div>\n\n          <div className=\"Form-group\">\n            {this.buildSettingComponent({\n              type: 'bool',\n              label: app.translator.trans('fof-discussion-language.admin.settings.show_flag_label'),\n              setting: 'fof-discussion-language.showFlags',\n            })}\n          </div>\n\n          <div className=\"Form-group\">\n            {this.buildSettingComponent({\n              type: 'bool',\n              label: app.translator.trans('fof-discussion-language.admin.settings.composer_default_label'),\n              setting: 'fof-discussion-language.composerLocaleDefault',\n            })}\n          </div>\n\n          <div className=\"Form-group\">\n            {this.buildSettingComponent({\n              type: 'bool',\n              label: app.translator.trans('fof-discussion-language.admin.settings.locale_sort_label'),\n              setting: 'fof-discussion-language.filter_language_on_http_request',\n            })}\n          </div>\n\n          <div className=\"Form-group\">\n            {this.buildSettingComponent({\n              type: 'bool',\n              label: app.translator.trans('fof-discussion-language.admin.settings.show_any_lang_opt_label'),\n              setting: 'fof-discussion-language.showAnyLangOpt',\n            })}\n          </div>\n\n          <div className=\"Form-group\">\n            {this.buildSettingComponent({\n              type: 'bool',\n              label: app.translator.trans('fof-discussion-language.admin.settings.tags_page_discussion_locale_label'),\n              setting: 'fof-discussion-language.useLocaleForTagsPageLastDiscussion',\n            })}\n          </div>\n\n          {this.submitButton(vnode)}\n\n          <hr />\n\n          {this.localeSettings()}\n\n          <p className=\"helpText\">\n            This extension uses material from the Wikipedia article{' '}\n            <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-2_codes\" target=\"_blank\" rel=\"noreferrer nofollow noopener\">\n              List of ISO 639-2 Codes\n            </a>\n            , which is released under the{' '}\n            <a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">Creative Commons Attribution-Share-Alike License 3.0</a>.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  localeSettings() {\n    if (this.loadingData) return <LoadingIndicator />;\n\n    if (this.loadingDataError) {\n      return (\n        <Alert dismissible={false} type=\"error\">\n          {app.translator.trans('fof-discussion-language.admin.settings.errors.missing_assets')}\n          <br />\n          <b>Error:</b> <code>{this.errorDetails?.message}</code>\n        </Alert>\n      );\n    }\n\n    const nativeNames = !!Number(this.setting('fof-discussion-language.native')());\n\n    const locales = getLocales(nativeNames);\n    const countryData = getCountries(nativeNames);\n\n    return (\n      <>\n        <div className=\"Form-group flex\" style={{ 'margin-bottom': 0, 'font-weight': 'bold' }}>\n          <span>{app.translator.trans('fof-discussion-language.admin.settings.config.language_label')}</span>\n          <span>{app.translator.trans('fof-discussion-language.admin.settings.config.country_label')}</span>\n          <span></span>\n          <span></span>\n        </div>\n        <div className=\"Form-group flex\">\n          {Select.component({\n            onchange: this.newLocaleValue,\n            value: this.newLocaleValue(),\n            options: locales,\n          })}\n\n          {Select.component({\n            onchange: this.newCountryValue,\n            value: this.newCountryValue(),\n            options: countryData,\n          })}\n\n          {Button.component(\n            {\n              className: 'Button Button--primary',\n              onclick: this.add.bind(this),\n              disabled: !this.newLocaleValue() || !this.newCountryValue() || this.isAddingNewRecord,\n            },\n            icon(this.isAddingNewRecord ? 'fas fa-spinner fa-spin' : 'fas fa-plus')\n          )}\n        </div>\n\n        <div className=\"Form-group\">\n          {app.store.all<Language>('discussion-languages').map((language) => {\n            const id = language.id();\n\n            const updating = this.recordsUpdating[id];\n            const deleting = this.recordsDeleting[id];\n\n            const country = language.country();\n\n            return (\n              <div className=\"flex\">\n                {Select.component({\n                  onchange: (val: string) => {\n                    this.recordsUpdating[id!] = true;\n\n                    language\n                      .save({\n                        code: val,\n                      })\n                      .then(() => {\n                        this.recordsUpdating[id!] = false;\n                        m.redraw();\n                      });\n                  },\n                  value: language.code(),\n                  options: locales,\n                  disabled: updating || deleting,\n                })}\n\n                {Select.component({\n                  onchange: (val: string) => {\n                    this.recordsUpdating[id!] = true;\n\n                    language\n                      .save({\n                        country: val,\n                      })\n                      .then(() => {\n                        this.recordsUpdating[id!] = false;\n                        m.redraw();\n                      });\n                  },\n                  value: country,\n                  options: countryData,\n                  disabled: updating || deleting,\n                })}\n\n                {Button.component(\n                  {\n                    className: `Button Button--danger`,\n                    disabled: deleting,\n                    onclick: this.remove.bind(this, language),\n                  },\n                  icon(deleting ? 'fas fa-spinner fa-spin' : 'fas fa-times')\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </>\n    );\n  }\n\n  onkeydown(e) {\n    if (e.key === 'Enter') {\n      this.add();\n      e.preventDefault();\n    }\n  }\n\n  add() {\n    if (this.isAddingNewRecord || !this.newLocaleValue()) return;\n\n    this.isAddingNewRecord = true;\n\n    const code = this.newLocaleValue();\n    const country = this.newCountryValue();\n    const language = app.store.createRecord('discussion-languages');\n\n    language\n      .save({ code, country })\n      .then(() => {\n        this.newLocaleValue('');\n        this.newCountryValue('');\n      })\n      .catch(() => {})\n      .finally(() => {\n        this.isAddingNewRecord = false;\n        m.redraw();\n      });\n  }\n\n  remove(language) {\n    this.recordsDeleting[language.id()] = true;\n\n    language\n      .delete()\n      .then(\n        () => {},\n        () => {}\n      )\n      .then(() => {\n        delete this.recordsDeleting[language.id()];\n        m.redraw();\n      });\n  }\n}\n","import LanguagesSettingsPage from './LanguagesSettingsPage';\n\nexport const components = {\n  LanguagesSettingsPage,\n};\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import getCountry, * as countries from './countries';\nimport locales, { getName } from './locales';\nimport { utils as commonUtils } from '../../common/utils';\n\nexport const utils = {\n  getCountry,\n  countries,\n  locales,\n  getName,\n  ...commonUtils,\n};\n","import flag from './flag';\n\nexport const utils = {\n  flag,\n};\n","import basename from 'twemoji-basename';\nimport icon from 'flarum/common/helpers/icon';\n\nexport default (language) => {\n  if (!language) return;\n\n  const emoji = language.emoji ? language.emoji() : language;\n\n  return emoji ? (\n    <img\n      alt={(language.country && language.country()) || ''}\n      className=\"emoji\"\n      draggable=\"false\"\n      loading=\"lazy\"\n      src={`//cdn.jsdelivr.net/gh/twitter/twemoji@14/assets/72x72/${basename(emoji)}.png`}\n    />\n  ) : (\n    icon('fas fa-globe')\n  );\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Language extends Model {\n  id() {\n    return Model.attribute<string>('id').call(this);\n  }\n\n  code() {\n    return Model.attribute<string>('code').call(this);\n  }\n\n  country() {\n    return Model.attribute<string>('country').call(this);\n  }\n\n  name() {\n    return Model.attribute<string>('name').call(this);\n  }\n\n  emoji() {\n    return Model.attribute<string>('emoji').call(this);\n  }\n\n  apiEndpoint() {\n    return `/fof/discussion-language${this.exists ? `/${this.data.id}` : ''}`;\n  }\n}\n","import Language from './Language';\n\nexport const models = {\n  Language,\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Discussion'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Forum'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/common/models/Tag'];","import Extend from 'flarum/common/extenders';\nimport Language from '../common/models/Language';\nimport Discussion from 'flarum/common/models/Discussion';\nimport Forum from 'flarum/common/models/Forum';\nimport Tag from 'flarum/tags/common/models/Tag';\n\nexport default [\n  new Extend.Store() //\n    .add('discussion-languages', Language),\n\n  new Extend.Model(Discussion) //\n    .hasOne('language')\n    .attribute<boolean>('canChangeLanguage'),\n\n  new Extend.Model(Forum) //\n    .hasMany<Language>('discussionLanguages'),\n\n  new Extend.Model(Tag) //\n    .attribute<string>('subscriptionLanguage')\n    .attribute<string>('localisedLastDiscussion'),\n];\n","import commonExtend from '../common/extend';\n\nexport default [...commonExtend];\n","import app from 'flarum/admin/app';\nimport SettingDropdown from 'flarum/admin/components/SettingDropdown';\n\nimport LanguagesSettingsPage from './components/LanguagesSettingsPage';\n\nexport * from './components';\nexport * from './utils';\nexport * from '../common/models';\nexport { default as extend } from './extend';\n\napp.initializers.add('fof/discussion-language', () => {\n  app.extensionData\n    .for('fof-discussion-language')\n    .registerPage(LanguagesSettingsPage)\n    .registerPermission(\n      {\n        permission: 'discussion.changeLanguageModerate',\n        icon: 'fas fa-globe',\n        label: app.translator.trans('fof-discussion-language.admin.permissions.allow_change_language_label'),\n      },\n      'moderate',\n      65\n    )\n    .registerPermission(\n      {\n        icon: 'fas fa-globe',\n        label: app.translator.trans('fof-discussion-language.admin.permissions.allow_change_language_label'),\n        setting: () => {\n          const minutes = parseInt(app.data.settings['fof-discussion-language.allow_language_change']);\n\n          return SettingDropdown.component({\n            defaultLabel: minutes\n              ? app.translator.trans('core.admin.permissions_controls.allow_some_minutes_button', { count: minutes })\n              : app.translator.trans('core.admin.permissions_controls.allow_indefinitely_button'),\n            key: 'fof-discussion-language.allow_language_change',\n            options: [\n              { value: '-1', label: app.translator.trans('core.admin.permissions_controls.allow_indefinitely_button') },\n              { value: '10', label: app.translator.trans('core.admin.permissions_controls.allow_ten_minutes_button') },\n              { value: 'reply', label: app.translator.trans('core.admin.permissions_controls.allow_until_reply_button') },\n            ],\n          });\n        },\n      },\n      'start',\n      65\n    );\n});\n"],"names":["module","exports","str","r","c","p","i","l","length","charCodeAt","push","toString","join","_typeof","require","_regeneratorRuntime","e","__esModule","t","Object","prototype","n","hasOwnProperty","o","defineProperty","value","Symbol","a","iterator","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","key","get","obj","prop","flarum","core","compat","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","_setPrototypeOf","bind","_inheritsLoose","ISO6392","loadAsset","_x","_loadAsset","_callee","URL","response","_context","app","attribute","fetch","ok","status","json","load","_ref","getNameColumn","data","native","_Array$from","Array","from","sort","b","_getNameColumn","_getNameColumn2","toLowerCase","reduce","countries","getCountries","useNativeName","entries","acc","_ref2","code","info","getEmoji","_countries","emoji","LanguagesSettingsPage","_ExtensionPage","_this","_len","args","_key","concat","recordsUpdating","recordsDeleting","newLocaleValue","Stream","newCountryValue","loadingData","loadingDataError","errorDetails","isAddingNewRecord","_proto","oncreate","vnode","loadData","_loadData","m","redraw","all","locales","t0","console","error","content","className","buildSettingComponent","label","trans","setting","submitButton","localeSettings","href","target","rel","_this$errorDetails","_this2","LoadingIndicator","Alert","dismissible","message","nativeNames","Number","getLocales","countryData","'['","style","Select","onchange","options","Button","onclick","add","disabled","icon","map","language","id","updating","deleting","country","val","save","remove","onkeydown","preventDefault","_this3","createRecord","_this4","ExtensionPage","components","_extends","assign","utils","getCountry","getName","_ISO","find","includes","flag","alt","draggable","loading","src","basename","Language","_Model","Model","apiEndpoint","exists","models","Extend","Discussion","hasOne","Forum","hasMany","Tag","commonExtend","registerPage","registerPermission","permission","minutes","parseInt","settings","SettingDropdown","defaultLabel","count"],"sourceRoot":""}