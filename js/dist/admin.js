module.exports=function(n){var t={};function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(o,i,function(t){return n[t]}.bind(null,i));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=17)}([function(n,t){n.exports=flarum.core.compat.Model},,function(n,t,e){"use strict";function o(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}e.d(t,"a",(function(){return o}))},function(n,t){n.exports=flarum.core.compat["models/Forum"]},function(n,t){n.exports=flarum.core.compat["components/Button"]},function(n,t,e){"use strict";function o(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}e.d(t,"a",(function(){return u}));var i=e(2);function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var a=e(0),s=e.n(a),u=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r(o(t=n.call.apply(n,[this].concat(i))||this),"code",s.a.attribute("code")),t}return Object(i.a)(t,n),t.prototype.apiEndpoint=function(){return"/fof/discussion-language"+(this.exists?"/"+this.data.id:"")},t}(s.a)},,,function(n,t){n.exports=flarum.core.compat["helpers/icon"]},,,,,,,function(n,t){n.exports=flarum.core.compat["components/Modal"]},,function(n,t,e){"use strict";e.r(t);var o=e(3),i=e.n(o),r=e(2),a=e(15),s=e.n(a),u=e(4),c=e.n(u),d=e(8),l=e.n(d),f=function(n){function t(){return n.apply(this,arguments)||this}Object(r.a)(t,n);var e=t.prototype;return e.init=function(){n.prototype.init.call(this),this.updating={},this.deleting={},this.codes={},this.newLocale=m.prop("")},e.className=function(){return"FofDiscussionLanguagesSettingsModal Modal--medium"},e.title=function(){return app.translator.trans("fof-discussion-language.admin.settings.title")},e.content=function(){var n=this;return[m("div",{className:"Modal-body"},m("div",{className:"Form-group flex"},m("input",{className:"FormControl",bidi:this.newLocale,onkeydown:this.onkeydown.bind(this)}),c.a.component({className:"Button Button--primary",children:l()(this.adding?"fas fa-spinner fa-spin":"fas fa-plus"),onclick:this.add.bind(this),disabled:!this.newLocale()||this.adding})),m("div",{className:"Form-group"},app.store.all("discussion-languages").map((function(t){var e=t.id(),o=n.updating[e],i=n.deleting[e],r=n.codes[e];return m("div",{className:"flex"},m("input",{className:"FormControl",value:r||""===r?r:t.code(),placeholder:t.code(),oninput:m.withAttr("value",(function(t){return n.codes[e]=t})),onchange:n.update.bind(n,t),disabled:o||i}),c.a.component({className:"Button Button--danger",children:l()(i?"fas fa-spinner fa-spin":"fas fa-times"),disabled:i,onclick:n.remove.bind(n,t)}))}))))]},e.onkeydown=function(n){"Enter"===n.key&&(this.add(),n.preventDefault())},e.add=function(){var n=this;if(!this.adding&&this.newLocale()){this.adding=!0;var t=this.newLocale();app.store.createRecord("discussion-languages").save({code:t}).then((function(){n.newLocale(""),n.adding=!1,m.redraw()})).catch((function(){return n.adding=!1}))}},e.update=function(n){var t=this;this.updating[n.id()]=!0,n.save({code:this.codes[n.id()]}).then((function(){}),(function(){})).then((function(){t.updating[n.id()]=!1,m.redraw()}))},e.remove=function(n){var t=this;this.deleting[n.id()]=!0,n.delete().then((function(){}),(function(){})).then((function(){delete t.deleting[n.id()],m.redraw()}))},t}(s.a),p=e(5);app.initializers.add("fof/discussion-language",(function(){app.store.models["discussion-languages"]=p.a,i.a.prototype.discussionLanguages=i.a.hasMany("discussionLanguages"),app.extensionSettings["fof-discussion-language"]=function(){return app.modal.show(new f)}}))}]);
//# sourceMappingURL=admin.js.map